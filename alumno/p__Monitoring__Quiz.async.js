(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[15],{"8k2p":function(e,t,a){e.exports={actions:"an-pages-monitoring-quiz-index-actions",clone:"an-pages-monitoring-quiz-index-clone",delete:"an-pages-monitoring-quiz-index-delete",question:"an-pages-monitoring-quiz-index-question",update:"an-pages-monitoring-quiz-index-update",tableListForm:"an-pages-monitoring-quiz-index-tableListForm"}},zjwo:function(e,t,a){"use strict";a.r(t);a("IzEo");var n=a("bx4M"),i=(a("g9YV"),a("wCAj")),o=(a("/zsF"),a("PArb")),r=(a("5Dmo"),a("3S7+")),l=(a("+L6B"),a("2/Rp")),c=a("p0pE"),s=a.n(c),d=a("2Taf"),u=a.n(d),p=a("vZ4D"),h=a.n(p),m=a("l4Ni"),g=a.n(m),f=a("ujKo"),v=a.n(f),y=a("MhPg"),z=a.n(y),b=(a("5NDa"),a("5rEg")),w=a("q1tI"),M=a.n(w),q=a("MuoO"),_=a("7DNP"),k=a("8k2p"),E=a.n(k),x=a("wd/R"),C=a.n(x),S=a("zHco"),A=b["a"].Search,D=function(e){function t(){var e,a;u()(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return a=g()(this,(e=v()(t)).call.apply(e,[this].concat(i))),a.state={search:""},a.onQueryAll=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=a.props.dispatch,n=s()({},e,{limit:e.limit});t({type:"quiz/all",payload:n})},a.onShowModal=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=a.props.dispatch;n({type:"quiz/showModal",payload:{currentItem:t,modalType:e}})},a.handleSearch=function(e){a.setState({search:e.target.value}),a.onQueryAll({search:e.target.value})},a.handleTableChange=function(e,t,n){var i=a.state.formValues,o=s()({current_page:e.current,limit:e.pageSize,search:a.state.search},i);n.field&&(o.sorter="".concat(n.field,"_").concat(n.order)),a.onQueryAll(o)},a}return z()(t,e),h()(t,[{key:"componentDidMount",value:function(){this.onQueryAll()}},{key:"onShowQuestions",value:function(e){var t=this.props.dispatch;t(_["routerRedux"].push("/monitoring/quiz/".concat(e)))}},{key:"render",value:function(){var e=this,t=this.props,a=t.quiz,c=t.loading,d=(t.dispatch,a.data),u=[{title:"Nombre Corto",dataIndex:"name",key:"name"},{title:"Fecha - Apertura",dataIndex:"start_date",key:"start_date",render:function(e,t){return t.start_date_enable?C()(e).format("DD MMMM YYYY HH:MM"):"---"}},{title:"Fecha - Cierre",dataIndex:"end_date",key:"end_date",render:function(e,t){return t.end_date_enable?C()(e).format("DD MMMM YYYY HH:MM"):"---"}},{title:"Accion",key:"accion",width:"60px",render:function(t,a){var n=a.end_date_enable?C()().diff(a.end_date,"seconds"):0,i=a.start_date_enable?C()().diff(a.start_date,"seconds"):1,o=!(i>0&&n<=0);return M.a.createElement(r["a"],{title:"Resolver"},M.a.createElement(l["a"],{disabled:o,icon:"check",onClick:function(){return e.onShowQuestions(a.id)}},"Resolver"))}}],p=d.list,h=void 0===p?[]:p,m=d.pagination,g=s()({showSizeChanger:!0,showQuickJumper:!0},m);return M.a.createElement(S["a"],{title:"Encuesta"},M.a.createElement(n["a"],{bordered:!1},M.a.createElement("div",{className:E.a.tableList},M.a.createElement("div",{className:E.a.tableListForm},M.a.createElement(A,{placeholder:"Buscar encuesta",value:this.state.search,onChange:this.handleSearch}),M.a.createElement(o["a"],{type:"vertical"}),M.a.createElement(l["a"],{icon:"reload",onClick:function(){return e.onQueryAll()}})),M.a.createElement(i["a"],{loading:c,dataSource:h,size:"small",pagination:g,columns:u,rowKey:function(e){return e.id},onChange:this.handleTableChange}))))}}]),t}(w["Component"]),Y=function(e){var t=e.quiz,a=e.loading;return{quiz:t,loading:a.effects["quiz/all"]}};t["default"]=Object(q["connect"])(Y)(D)}}]);