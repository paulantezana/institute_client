(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[12],{"/oW5":function(e,t,a){e.exports={tableListForm:"sn-pages-review-index-tableListForm",tableListOperator:"sn-pages-review-index-tableListOperator",changerContainer:"sn-pages-review-index-changerContainer",select:"sn-pages-review-index-select"}},"3e6g":function(e,t,a){e.exports={grid:"sn-pages-student-detail-index-grid",actions:"sn-pages-student-detail-index-actions",student:"sn-pages-student-detail-index-student",title:"sn-pages-student-detail-index-title",row:"sn-pages-student-detail-index-row"}},"6/Q8":function(e,t,a){e.exports={search:"sn-pages-review-form-detail-form-index-search",item:"sn-pages-review-form-detail-form-index-item",hidden:"sn-pages-review-form-detail-form-index-hidden"}},"B/fu":function(e,t,a){"use strict";a.r(t);a("IzEo");var n,r=a("bx4M"),i=(a("Pwec"),a("CtXQ")),l=(a("Telt"),a("Tckk")),o=a("2Taf"),c=a.n(o),s=a("vZ4D"),d=a.n(s),u=a("l4Ni"),m=a.n(u),p=a("ujKo"),h=a.n(p),f=a("MhPg"),v=a.n(f),y=(a("Znn+"),a("ZTPi")),E=a("q1tI"),g=a.n(E),w=a("zHco"),C=a("MuoO"),b=a("3e6g"),S=a.n(b),k=a("Aeqt"),D=a("wd/R"),_=a.n(D),M=(a("RC8p"),a("rgW5")),N=(a("fOrg"),a("+KLJ")),x=(a("+L6B"),a("2/Rp")),P=a("pTQ3"),I=a.n(P),Y=function(e){function t(){var e,a;c()(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=m()(this,(e=h()(t)).call.apply(e,[this].concat(r))),a.onQuery=function(){var e=a.props,t=e.dispatch,n=e.student;t({type:"student/history",payload:{id:n.student.id}})},a}return v()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,t=e.student,a=e.loading;return g.a.createElement("div",{className:I.a.container},g.a.createElement("div",{className:I.a.operations},g.a.createElement(x["a"],{icon:"reload",shape:"circle",loading:a,onClick:this.onQuery})),g.a.createElement(M["a"],{style:{margin:"8px"}},t.histories.map(function(e){return g.a.createElement(M["a"].Item,{key:e.id,color:1===e.type?"green":2===e.type?"red":void 0,dot:g.a.createElement(i["a"],{type:"clock-circle-o",style:{fontSize:"16px"}})},g.a.createElement(N["a"],{type:1===e.type?"success":2===e.type?"error":void 0,message:g.a.createElement("div",null,e.description,g.a.createElement("div",null,_()(e.date).format("D [de] MMMM [de] YYYY")))}))})))}}]),t}(g.a.Component),F=function(e){var t=e.student,a=e.global,n=e.loading;return{student:t,setting:a.setting,loading:n.effects["student/history"]}},O=Object(C["connect"])(F)(Y),V=(a("/zsF"),a("PArb")),A=(a("OaEy"),a("2fM7")),T=(a("7DNP"),a("/oW5")),R=a.n(T),j=(a("g9YV"),a("wCAj")),L=(a("qVdP"),a("jsC+")),G=(a("lUTK"),a("BvKs")),q=(a("giR+"),a("fyUT")),z=(a("y8nQ"),a("Vl3Y")),Q=(a("5NDa"),a("5rEg")),X=(a("17x9"),a("2qtc"),a("kLXV")),B=a("tP2g"),U=a.n(B),W=function(e){function t(e){return c()(this,t),m()(this,h()(t).call(this,e))}return v()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,t=e.printStudent,a=e.dispatch,n=function(){a({type:"printStudent/hidePrinterCertModuler"})};return g.a.createElement(X["a"],{title:"Acta",onCancel:n,style:{top:20},width:"95vw",footer:null,bodyStyle:{padding:0},visible:t.certModulerVisible},g.a.createElement("div",{className:U.a.tools},g.a.createElement("div",{className:U.a.item},g.a.createElement("span",null,"XY1"),g.a.createElement(q["a"],{style:{width:60},min:0})),g.a.createElement("div",{className:U.a.item},g.a.createElement("span",null,"XY2"),g.a.createElement(q["a"],{style:{width:60},min:0})),g.a.createElement("div",{className:U.a.item},g.a.createElement("span",null,"XY3"),g.a.createElement(q["a"],{style:{width:60},min:0})),g.a.createElement("div",{className:U.a.item},g.a.createElement("span",null,"XY4"),g.a.createElement(q["a"],{style:{width:60},min:0}))),g.a.createElement("iframe",{src:t.docCertModulerDataUrl,height:"600px",width:"100%"}))}}]),t}(E["Component"]),K=function(e){var t=e.printStudent;return{printStudent:t}},H=Object(C["connect"])(K)(W),J=function(e){function t(e){return c()(this,t),m()(this,h()(t).call(this,e))}return v()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,t=e.printStudent,a=e.dispatch,n=function(){a({type:"printStudent/hidePrinterCertGraduated"})};return g.a.createElement(X["a"],{title:"Acta",onCancel:n,style:{top:20},width:"95vw",footer:null,bodyStyle:{padding:0},visible:t.certGraduatedVisible},g.a.createElement("div",{className:U.a.tools},g.a.createElement("div",{className:U.a.item},g.a.createElement("span",null,"XY1"),g.a.createElement(q["a"],{style:{width:60},min:0})),g.a.createElement("div",{className:U.a.item},g.a.createElement("span",null,"XY2"),g.a.createElement(q["a"],{style:{width:60},min:0})),g.a.createElement("div",{className:U.a.item},g.a.createElement("span",null,"XY3"),g.a.createElement(q["a"],{style:{width:60},min:0})),g.a.createElement("div",{className:U.a.item},g.a.createElement("span",null,"XY4"),g.a.createElement(q["a"],{style:{width:60},min:0}))),g.a.createElement("iframe",{src:t.docCertGraduatedDataUrl,height:"600px",width:"100%"}))}}]),t}(E["Component"]),Z=function(e){var t=e.printStudent;return{printStudent:t}},$=Object(C["connect"])(Z)(J),ee=function(e){function t(e){return c()(this,t),m()(this,h()(t).call(this,e))}return v()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,t=e.printStudent,a=e.dispatch,n=function(){a({type:"printStudent/hidePrinterConstGraduated"})};return g.a.createElement(X["a"],{title:"Constancia de graduaci\xf3n",onCancel:n,style:{top:20},width:"95vw",footer:null,bodyStyle:{padding:0},visible:t.constGraduatedVisible},g.a.createElement("iframe",{src:t.docConstGraduatedDataUrl,height:"600px",width:"100%"}))}}]),t}(E["Component"]),te=function(e){var t=e.printStudent;return{printStudent:t}},ae=Object(C["connect"])(te)(ee),ne=function(e){function t(e){return c()(this,t),m()(this,h()(t).call(this,e))}return v()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,t=e.printStudent,a=e.dispatch,n=function(){a({type:"printStudent/hidePrinterActa"})};return g.a.createElement(X["a"],{title:"Acta",onCancel:n,style:{top:20},width:"95vw",footer:null,bodyStyle:{padding:0},visible:t.actaVisible},g.a.createElement("iframe",{src:t.docActaDataUrl,height:"600px",width:"100%"}))}}]),t}(E["Component"]),re=function(e){var t=e.printStudent;return{printStudent:t}},ie=Object(C["connect"])(re)(ne),le=function(e){function t(e){return c()(this,t),m()(this,h()(t).call(this,e))}return v()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,t=e.printStudent,a=e.dispatch,n=function(){a({type:"printStudent/hidePrinterConsolidado"})};return g.a.createElement(X["a"],{title:"Consolidado",onCancel:n,style:{top:20},width:"95vw",footer:null,bodyStyle:{padding:0},visible:t.consolidadoVisible},g.a.createElement("iframe",{src:t.docConsolidadoDataUrl,height:"600px",width:"100%"}))}}]),t}(E["Component"]),oe=function(e){var t=e.printStudent;return{printStudent:t}},ce=Object(C["connect"])(oe)(le),se=function(e){function t(e){return c()(this,t),m()(this,h()(t).call(this,e))}return v()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,t=e.printStudent,a=e.dispatch,n=function(){a({type:"printStudent/hidePrinterConst"})};return g.a.createElement(X["a"],{title:"Constancia",onCancel:n,style:{top:20},width:"95vw",footer:null,bodyStyle:{padding:0},visible:t.constVisible},g.a.createElement("iframe",{src:t.docConstDataUrl,height:"600px",width:"100%"}))}}]),t}(E["Component"]),de=function(e){var t=e.printStudent;return{printStudent:t}},ue=Object(C["connect"])(de)(se),me=a("p0pE"),pe=a.n(me),he=(a("iQDF"),a("+eQT")),fe=(a("T2oS"),a("W9HT")),ve=a("jehZ"),ye=a.n(ve),Ee=a("rlhR"),ge=a.n(Ee),we=a("o5rI"),Ce=a.n(we),be=a("oDxf"),Se=(a("P2fV"),a("NJEC")),ke=(a("5Dmo"),a("3S7+")),De=(a("CkN6"),a("qeWu")),_e=a.n(De),Me=function(e){function t(e){var a;return c()(this,t),a=m()(this,h()(t).call(this,e)),a.state={sortedInfo:null,filteredInfo:null},a.onChange=a.onChange.bind(ge()(a)),a.clearAllFilters=a.clearAllFilters.bind(ge()(a)),a}return v()(t,e),d()(t,[{key:"onChange",value:function(e,t,a){this.setState({sortedInfo:a,filteredInfo:t})}},{key:"clearAllFilters",value:function(){this.setState({sortedInfo:null,filteredInfo:null}),this.props.onClear()}},{key:"render",value:function(){var e=this.state,t=e.sortedInfo,a=e.filteredInfo;t=t||{},a=a||{};var n=this.props,r=n.onShowModalEdit,l=n.onDelete,o=n.dataSource,c=n.loading,s=n.disabled,d=[{title:"N\xb0",key:"n",render:function(e,t,a){return a+1}},{title:"Empresa",dataIndex:"company_name",key:"company_name"},{title:"Fecha inicio",dataIndex:"start_date",key:"start_date",render:function(e,t){return _()(e).format("DD MMMM YYYY")}},{title:"Fecha fin",dataIndex:"end_date",key:"end_date",render:function(e,t){return _()(e).format("DD MMMM YYYY")}},{title:"Horas",dataIndex:"hours",key:"hours"},{title:"Nota",dataIndex:"note",key:"note"},{title:"Accion",key:"accion",width:"110px",render:function(e,t){return g.a.createElement("div",{className:_e.a.actions},!s&&g.a.createElement(ke["a"],{title:"Editar"},g.a.createElement(i["a"],{type:"edit",className:_e.a.update,onClick:function(){return r("update",e)}})),!s&&g.a.createElement(ke["a"],{title:"Eliminar"},g.a.createElement(Se["a"],{title:"\xbfEst\xe1s seguro de eliminar este registro?",onConfirm:function(){return l(e)}},g.a.createElement(i["a"],{type:"delete",className:_e.a.delete}))))}}];return g.a.createElement("div",null,g.a.createElement(j["a"],{columns:d,dataSource:o,loading:c,size:"small",pagination:!1,onChange:this.onChange,rowKey:function(e){return e.aux_id}}))}}]),t}(E["Component"]),Ne=Me,xe=(a("O3gP"),a("lrIw")),Pe=a("iMm1"),Ie=a("6/Q8"),Ye=a.n(Ie),Fe={labelCol:{span:8},wrapperCol:{span:12}},Oe=xe["a"].Option,Ve=z["a"].create()(function(e){function t(e){return c()(this,t),m()(this,h()(t).call(this,e))}return v()(t,e),d()(t,[{key:"handleChangeSelectCompany",value:function(e,t){this.props.form.setFieldsValue({company_name:t,company_id:e});var a=this.props.company.searchResult.find(function(t){return t.id==e});this.props.form.setFieldsValue({unit_measure:a.unit_measure})}},{key:"render",value:function(){var e=this,t=this.props,a=t.visible,n=t.type,r=t.onCancel,i=t.onOk,l=t.form,o=t.data,c=void 0===o?{}:o,s=l.getFieldDecorator,d=this.props,u=d.dispatch,m=d.company,p=(d.loading,function(){u({type:"company/showModal",payload:{modalType:"create"}})}),h=m.searchResult,f=function(e){u({type:"company/search",payload:{search:e}})},v=function(t,a){e.handleChangeSelectCompany(t,a.props.children)},y=h.map(function(e){return g.a.createElement(Oe,{key:e.id},e.name_social_reason)});return g.a.createElement(X["a"],{visible:a,title:"Empresa",okText:"update"===n?"Modificar":"A\xf1adir",cancelText:"Cerrar",onCancel:r,onOk:i},g.a.createElement(z["a"],{layout:"horizontal"},g.a.createElement(z["a"].Item,ye()({hasFeedback:!0},Fe,{label:"Empresa"}),g.a.createElement("div",{className:Ye.a.search},g.a.createElement("div",{className:Ye.a.item},s("company_name_aux",{initialValue:c.company_name,rules:[{required:!0,message:"\xa1Por favor elija un companyo!"}]})(g.a.createElement(xe["a"],{dataSource:y,onSelect:v,onSearch:f,placeholder:"Buscar empresa"}))),g.a.createElement("div",{className:Ye.a.more},g.a.createElement(x["a"],{icon:"plus",onClick:function(){return p()}}),g.a.createElement(Pe["a"],null)))),g.a.createElement(z["a"].Item,{className:Ye.a.hidden},s("company_id",{initialValue:c.company_id})(g.a.createElement(q["a"],null))),g.a.createElement(z["a"].Item,{className:Ye.a.hidden},s("company_name",{initialValue:c.company_name})(g.a.createElement(Q["a"],null))),g.a.createElement(z["a"].Item,ye()({hasFeedback:!0},Fe,{label:"Horas"}),s("hours",{initialValue:c.hours,rules:[{required:!0,message:"\xa1Por favor ingrese horas!"},{pattern:/^([0-9]*|\d*\.\d{1}?\d*)$/,message:"\xa1Ingrese un cantidad v\xe1lido!"}]})(g.a.createElement(q["a"],{placeholder:"Horas de practica",style:{width:"150px"}}))),g.a.createElement(z["a"].Item,ye()({hasFeedback:!0},Fe,{label:"Nota"}),s("note",{initialValue:c.note,rules:[{required:!0,message:"\xa1Por favor ingrese una Nota!"}]})(g.a.createElement(q["a"],{placeholder:"Nota de practica",style:{width:"150px"}}))),g.a.createElement(z["a"].Item,ye()({hasFeedback:!0},Fe,{label:"Fecha de inicio"}),s("start_date",{initialValue:c.start_date?_()(new Date(c.start_date),"DD/MM/YYYY"):void 0,rules:[{required:!0,message:"\xa1Por favor ingrese fecha de inicio!"}]})(g.a.createElement(he["a"],{format:"DD/MM/YYYY"}))),g.a.createElement(z["a"].Item,ye()({hasFeedback:!0},Fe,{label:"Fecha de finalizaci\xf3n"}),s("end_date",{initialValue:c.end_date?_()(new Date(c.end_date),"DD/MM/YYYY"):void 0,rules:[{required:!0,message:"\xa1Por favor ingrese fecha de finalizaci\xf3n!"}]})(g.a.createElement(he["a"],{format:"DD/MM/YYYY"})))))}}]),t}(g.a.Component)),Ae=function(e){function t(e){var a;return c()(this,t),a=m()(this,h()(t).call(this,e)),a.state={},a.handleConfirm=a.handleConfirm.bind(ge()(a)),a}return v()(t,e),d()(t,[{key:"handleConfirm",value:function(e){var t=this.props,a=t.dispatch,n=t.reviewDetail.currentItem,r=(t.review,this.formRef.props.form);r.validateFields(function(t,i){t||(i=pe()({},i,{company_id:parseInt(i.company_id),company_name_aux:void 0}),"create"==e?a({type:"reviewDetail/addList",payload:pe()({},i,{id:n.id})}):"update"==e&&a({type:"reviewDetail/updateItemByID",payload:pe()({},i,{aux_id:n.aux_id})}),a({type:"reviewDetail/resetReviewDetail"}),r.resetFields())})}},{key:"render",value:function(){var e=this,t=this.props,a=t.company,n=t.reviewDetail,r=t.dispatch,i=n.currentItem,l=n.modalType,o=n.modalVisible,c=this.handleConfirm,s={data:"create"==l?{}:i,type:l,visible:o,onOk:function(){c(l)},onCancel:function(){r({type:"reviewDetail/resetReviewDetail"})}};return g.a.createElement("div",null,g.a.createElement(Ve,ye()({wrappedComponentRef:function(t){return e.formRef=t}},s,{dispatch:r,company:a})))}}]),t}(g.a.Component),Te=function(e){var t=e.company,a=e.reviewDetail,n=e.review,r=e.loading;return{company:t,reviewDetail:a,review:n,loading:r.effects}},Re=Object(C["connect"])(Te)(Ae),je=a("jcMW"),Le={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:12}}},Ge=A["a"].Option,qe=z["a"].create()(function(e){function t(e){var a;return c()(this,t),a=m()(this,h()(t).call(this,e)),a.handleChangeSelectTeacher=a.handleChangeSelectTeacher.bind(ge()(a)),a}return v()(t,e),d()(t,[{key:"handleChangeSelectTeacher",value:function(e){var t=this.props.form;t.setFieldsValue({teacher_id:e})}},{key:"render",value:function(){var e=this,t=this.props,a=t.visible,n=t.reviewDetail,r=t.dispatch,i=t.type,l=t.onCancel,o=t.onOk,c=t.form,s=t.confirmLoading,d=t.loadingSearch,u=t.moduler,m=t.teacher,p=t.data,h=c.getFieldDecorator,f="update"===i,v=n.list,y={dataSource:v,loading:!1,disabled:!1,onDelete:function(e){r({type:"reviewDetail/removeItem",payload:e}),f&&r({type:"reviewDetail/delete",payload:{id:e.id}})},onShowModalEdit:function(e,t){E(e,t)}},E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r({type:"reviewDetail/showModal",payload:{currentItem:t,modalType:e}})},w=function(){r({type:"reviewDetail/clearList"})},C=function(){r({type:"teacher/showModal",payload:{modalType:"create"}})},b=m.searchResult,S=function(e){r({type:"teacher/searchProgram",payload:{search:e}})},k=function(t){var a=t.key;t.label;e.handleChangeSelectTeacher(parseInt(a))},D=(b.map(function(e){return g.a.createElement(Ge,{key:e.id},"".concat(e.first_name," ").concat(e.last_name))}),void 0==p.teacher_first_name?"":p.teacher_first_name);return D+=void 0==p.teacher_last_name?"":" ".concat(p.teacher_last_name),g.a.createElement(X["a"],{title:"Revisi\xf3n",okText:"Guardar",width:"90vw",style:{top:50},confirmLoading:s,onCancel:l,onOk:o,visible:a},g.a.createElement(z["a"],{layout:"horizontal"},g.a.createElement(z["a"].Item,ye()({hasFeedback:!0,label:"Modulo"},Le),h("module_id",{initialValue:p.module_id,rules:[{required:!0,message:"\xa1Por favor seleccione un modulo!"}]})(g.a.createElement(A["a"],{placeholder:"Seleccionar"},u.list.map(function(e){return g.a.createElement(A["a"].Option,{value:e.id,key:e.id},"Nro ".concat(e.sequence," - ").concat(e.name))})))),g.a.createElement(z["a"].Item,ye()({hasFeedback:!0},Le,{label:"Supervisor"}),g.a.createElement("div",{className:Ce.a.search},g.a.createElement("div",{className:Ce.a.item},h("teacher_name_aux",{initialValue:p.teacher_id?{key:p.teacher_id,label:D}:void 0,rules:[{required:!0,message:"\xa1Por favor elija un supervisor!"}]})(g.a.createElement(A["a"],{showSearch:!0,labelInValue:!0,placeholder:"Buscar Supervisor",notFoundContent:d?g.a.createElement(fe["a"],{size:"small"}):null,filterOption:!1,onSearch:S,onChange:k},b.map(function(e){return g.a.createElement(A["a"].Option,{key:e.id},"".concat(e.first_name," ").concat(e.last_name))})))),g.a.createElement("div",{className:Ce.a.more},g.a.createElement(x["a"],{icon:"plus",onClick:function(){return C()}}),g.a.createElement(je["a"],null)))),g.a.createElement(z["a"].Item,{label:"ID",className:Ce.a.hidden},h("teacher_id",{initialValue:p.teacher_id})(g.a.createElement(q["a"],null))),g.a.createElement(z["a"].Item,ye()({hasFeedback:!0,label:"Fecha de aprobaci\xf3n"},Le),h("approbation_date",{initialValue:p.approbation_date?_()(new Date(p.approbation_date),"DD/MM/YYYY"):_()(new Date,"DD/MM/YYYY")})(g.a.createElement(he["a"],{format:"DD/MM/YYYY"})))),g.a.createElement("div",{className:Ce.a.operations},g.a.createElement(x["a"].Group,null,g.a.createElement(x["a"],{type:"primary",icon:"plus",onClick:function(){return E("create")}},"Agregar"),g.a.createElement(x["a"],{type:"danger",icon:"delete",onClick:function(){return w()}},"Limpiar")),g.a.createElement(Re,null)),g.a.createElement(be["a"],null),g.a.createElement(Ne,y))}}]),t}(g.a.Component)),ze=function(e){function t(e){var a;return c()(this,t),a=m()(this,h()(t).call(this,e)),a.handleConfirm=a.handleConfirm.bind(ge()(a)),a.handleCancel=a.handleCancel.bind(ge()(a)),a}return v()(t,e),d()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatch,a=e.student;t({type:"moduler/all",payload:{program_id:a.currentProgram.id}})}},{key:"handleConfirm",value:function(e){var t=this.props,a=t.dispatch,n=t.review.currentItem,r=this.formRef.props.form;r.validateFields(function(t,i){t||(a({type:"review/".concat(e),payload:pe()({},i,{id:n.id})}),r.resetFields(),a({type:"reviewDetail/clearList"}))})}},{key:"handleCancel",value:function(){var e=this.formRef.props.form;e.resetFields()}},{key:"render",value:function(){var e=this,t=this.handleConfirm,a=this.handleCancel,n=this.props,r=n.dispatch,i=n.review,l=n.reviewDetail,o=n.moduler,c=n.teacher,s=n.loading,d=n.loadingSearch,u=i.currentItem,m=i.modalType,p=i.modalVisible,h={data:"create"==m?{state:!0}:u,disabled:"detail"==m,type:m,moduler:o,teacher:c,loadingSearch:d,visible:p,confirmLoading:s,onOk:function(){t(m)},onCancel:function(){r({type:"review/resetReview"}),r({type:"reviewDetail/clearList"}),a()}};return g.a.createElement(qe,ye()({},h,{reviewDetail:l,dispatch:r,wrappedComponentRef:function(t){return e.formRef=t}}))}}]),t}(E["Component"]),Qe=function(e){var t=e.review,a=e.reviewDetail,n=e.moduler,r=e.teacher,i=e.student,l=e.loading;return{review:t,reviewDetail:a,moduler:n,teacher:r,student:i,loadingSearch:l.effects["teacher/searchProgram"],loading:l.effects["review/create"]||l.effects["review/update"]}},Xe=Object(C["connect"])(Qe)(ze),Be=(Q["a"].Search,z["a"].create()((n=function(e){function t(){var e,a;c()(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=m()(this,(e=h()(t)).call.apply(e,[this].concat(r))),a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||a.props.onSubmit(t.year)})},a}return v()(t,e),d()(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props,a=t.value,n=t.labelValue;return g.a.createElement(z["a"],{layout:"inline",onSubmit:this.handleSubmit},g.a.createElement(z["a"].Item,{label:n},e("year",{initialValue:a})(g.a.createElement(q["a"],{min:1900,onBlur:this.handleSubmit}))))}}]),t}(g.a.Component),n))),Ue=function(e){function t(){var e,a;c()(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=m()(this,(e=h()(t)).call.apply(e,[this].concat(r))),a.onPracticeMenu=function(e,t){switch(e.key){case"edit":a.onShowModal("update",t);break;case"cert":a.onShowModalPrintCertModuler(t);break;case"cons":a.onShowModalPrintCons(t);break;case"acta":a.onShowModalPrintActa(t);break;default:console.log("click",e);break}},a.onShowModal=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=a.props.dispatch;n({type:"review/showModal",payload:{currentItem:t,modalType:e}}),"update"===e&&n({type:"reviewDetail/byReview",payload:{id:t.id}})},a.onShowModalPrintCertGraduated=function(){var e=a.props.dispatch;e({type:"printStudent/showPrinterCertGraduated"}),e({type:"printStudent/loadDataCertGraduated"})},a.onShowModalPrintConstGraduated=function(){var e=a.props.dispatch;e({type:"printStudent/showPrinterConstGraduated"}),e({type:"printStudent/loadDataConstGraduated"})},a.onShowModalPrintCertModuler=function(e){var t=a.props.dispatch;t({type:"printStudent/showPrinterCertModuler"}),t({type:"printStudent/loadDataCertModuler",payload:{id:e.id}})},a.onShowModalPrintActa=function(e){var t=a.props.dispatch;t({type:"printStudent/showPrinterActa"}),t({type:"printStudent/loadDataActa",payload:{id:e.id}})},a.onShowModalPrintCons=function(e){var t=a.props.dispatch;t({type:"printStudent/showPrinterConst"}),t({type:"printStudent/loadDataConst",payload:{id:e.id}})},a.onShowModalPrintConsolidado=function(e){var t=a.props.dispatch;t({type:"printStudent/showPrinterConsolidado"}),t({type:"printStudent/loadDataConsolidado"})},a.onChangeYearStudent=function(e){var t=a.props.dispatch;t({type:"student/updateYearAp",payload:e}),console.log(e)},a}return v()(t,e),d()(t,[{key:"componentWillUnmount",value:function(){var e=this.props.dispatch;e({type:"review/resetReview"}),e({type:"student/resetStudent"})}},{key:"render",value:function(){var e=this,t=this.props,a=t.review,n=t.student,r=t.loading,l=a.list,o=a.validates,c=[{title:"Supervisor",key:"supervisor",render:function(e,t){return"".concat(t.teacher_first_name," ").concat(t.teacher_last_name)}},{title:"Modulo",dataIndex:"name",key:"name"},{title:"Accion",key:"accion",width:"130px",render:function(t,a){var n=g.a.createElement(G["b"],{onClick:function(t){return e.onPracticeMenu(t,a)},trigger:["click"]},g.a.createElement(G["b"].Item,{key:"edit"},g.a.createElement(i["a"],{type:"edit"}),"Editar"),g.a.createElement(G["b"].Item,{key:"cert"},g.a.createElement(i["a"],{type:"printer"}),"Certificado Modular"),g.a.createElement(G["b"].Item,{key:"cons"},g.a.createElement(i["a"],{type:"printer"}),"Constancia de practicas"),g.a.createElement(G["b"].Item,{key:"acta"},g.a.createElement(i["a"],{type:"printer"}),"Acta de practicas"));return g.a.createElement(L["a"].Button,{overlay:n},"Opciones")}}];return g.a.createElement("div",{className:R.a.tableList},g.a.createElement(N["a"],{showIcon:!0,style:{marginBottom:"32px"},message:n.currentProgram.name,description:g.a.createElement("div",null,g.a.createElement("span",null,g.a.createElement(Be,{value:n.currentProgram.year_admission,onSubmit:function(t){return e.onChangeYearStudent({year_admission:t})},labelValue:"A\xf1o Ingreso:"})),g.a.createElement(V["a"],{type:"vertical"}),g.a.createElement("span",null,g.a.createElement(Be,{value:n.currentProgram.year_promotion,onSubmit:function(t){return e.onChangeYearStudent({year_promotion:t})},labelValue:"A\xf1o Egreso:"})))}),g.a.createElement("div",{className:R.a.tableListOperator},g.a.createElement(x["a"].Group,null,g.a.createElement(x["a"],{icon:"plus",type:"primary",disabled:o.consolidate,onClick:function(){return e.onShowModal("create")}},"Nueva revisi\xf3n"),g.a.createElement(x["a"],{type:"primary",icon:"printer",disabled:!o.consolidate,onClick:function(){return e.onShowModalPrintConsolidado()}},"Acta de consolidado")),g.a.createElement(x["a"].Group,null,g.a.createElement(x["a"],{onClick:function(){return e.onShowModalPrintCertGraduated()},icon:"printer"},"Certificado De Egresado"),g.a.createElement(x["a"],{onClick:function(){return e.onShowModalPrintConstGraduated()},icon:"printer"},"Constancia De Egresado"))),g.a.createElement(Xe,null),g.a.createElement(j["a"],{loading:r,dataSource:l,columns:c,size:"small",rowKey:function(e){return e.id}}),g.a.createElement($,null),g.a.createElement(ae,null),g.a.createElement(H,null),g.a.createElement(ie,null),g.a.createElement(ce,null),g.a.createElement(ue,null))}}]),t}(E["Component"]),We=function(e){var t=e.review,a=e.student,n=e.loading;return{review:t,student:a,loading:n.effects["review/all"]}},Ke=Object(C["connect"])(We)(Ue),He=function(e){function t(){var e,a;c()(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=m()(this,(e=h()(t)).call.apply(e,[this].concat(r))),a.onQueryAll=function(){var e=a.props.dispatch;e({type:"review/all"})},a.onChangeCurrentProgram=function(e){var t=a.props,n=t.dispatch,r=t.student,i=r.programs.find(function(t){return t.id==parseInt(e)});n({type:"student/setCurrentProgram",payload:i}),n({type:"review/all",payload:{student_id:r.student.id,program_id:parseInt(e)}}),n({type:"moduler/all",payload:{program_id:parseInt(e)}})},a}return v()(t,e),d()(t,[{key:"render",value:function(){var e=this,t=this.props.student;return g.a.createElement("div",null,g.a.createElement("div",{className:R.a.changerContainer},g.a.createElement(A["a"],{onChange:this.onChangeCurrentProgram,className:R.a.select,disabled:t.programs.length<=1,value:t.programs?t.currentProgram.id:void 0},t.programs.map(function(e){return g.a.createElement(A["a"].Option,{value:e.id,key:e.id},e.name)})),g.a.createElement(V["a"],{type:"vertical"}),g.a.createElement(x["a"],{icon:"reload",type:"primary",onClick:function(){return e.onQueryAll()},className:R.a.reload})),t.currentProgram.id&&g.a.createElement(Ke,null))}}]),t}(E["Component"]),Je=function(e){var t=e.student;e.loading;return{student:t}},Ze=Object(C["connect"])(Je)(He),$e=y["a"].TabPane,et=function(e){function t(){return c()(this,t),m()(this,h()(t).apply(this,arguments))}return v()(t,e),d()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.computedMatch.params,a=e.dispatch;a({type:"student/byId",payload:{id:parseInt(t.id)}})}},{key:"render",value:function(){var e=this.props,t=(e.currentStudent,e.setting),a=(e.dispatch,e.loading,this.props.student),n=a.student;a.programs;return g.a.createElement(w["a"],{title:n.full_name},g.a.createElement(r["a"],{bordered:!1},g.a.createElement("div",{className:S.a.grid},g.a.createElement("div",null,g.a.createElement(l["a"],{src:""===n.user.avatar?"".concat(k["c"].path,"/").concat(t.logo):"".concat(k["c"].path,"/").concat(n.user.avatar),size:130,shape:"square",style:{backgroundColor:"#F1F1F1"}}),g.a.createElement("div",{className:S.a.actions})),g.a.createElement("div",{className:S.a.student},g.a.createElement("h2",{className:S.a.title},"\ud83d\ude00 Datos Personales"),g.a.createElement("div",{className:S.a.row},g.a.createElement("span",null,"DNI:")," ",n.dni),g.a.createElement("div",{className:S.a.row},g.a.createElement("span",null,"Nombres:")," ",n.full_name),g.a.createElement("div",{className:S.a.row},g.a.createElement("span",null,"Sexo:")," ",n.gender),g.a.createElement("div",{className:S.a.row},g.a.createElement("span",null,"Edad:"),_()().diff(n.birth_date,"years")),g.a.createElement("div",{className:S.a.row},g.a.createElement("span",null,"Email:")," ",n.user.email)),g.a.createElement("div",{className:S.a.student},g.a.createElement("h2",{className:S.a.title},"\ud83d\udcc5 Lugar de nacimiento"),g.a.createElement("div",{className:S.a.row},g.a.createElement("span",null,"Lugar de nacimiento:")," ",n.birth_place),g.a.createElement("div",{className:S.a.row},g.a.createElement("span",null,"Distrito:")," ",n.district),g.a.createElement("div",{className:S.a.row},g.a.createElement("span",null,"Provincia:")," ",n.province),g.a.createElement("div",{className:S.a.row},g.a.createElement("span",null,"Regi\xf3n:")," ",n.region)),g.a.createElement("div",{className:S.a.student},g.a.createElement("h2",{className:S.a.title},"\ud83d\udcd2 Otros datos"),g.a.createElement("div",{className:S.a.row},g.a.createElement("span",null,"Pais:")," ",n.country),g.a.createElement("div",{className:S.a.row},g.a.createElement("span",null,"Direccion:")," ",n.address),g.a.createElement("div",{className:S.a.row},g.a.createElement("span",null,"Telefono:")," ",n.phone),g.a.createElement("div",{className:S.a.row},g.a.createElement("span",null,"Estado civil:"),"  ",n.civil_status),g.a.createElement("div",{className:S.a.row},g.a.createElement("span",null,"Trabaja:")," ",n.is_work),g.a.createElement("div",{className:S.a.row},g.a.createElement("span",null,"Puesto en la que trabaja:")," ",n.market_stall))),g.a.createElement(y["a"],{defaultActiveKey:"1"},g.a.createElement($e,{tab:g.a.createElement("span",null,g.a.createElement(i["a"],{type:"form"})," Practicas modulares. "),key:"1"},g.a.createElement(Ze,null)),g.a.createElement($e,{tab:g.a.createElement("span",null,g.a.createElement(i["a"],{type:"rocket"})," Historial "),key:"2"},g.a.createElement(O,null)))))}}]),t}(g.a.Component),tt=function(e){var t=e.student,a=e.global,n=e.loading;return{student:t,setting:a.setting,loading:n.effects["student/by/id"]}};t["default"]=Object(C["connect"])(tt)(et)},o5rI:function(e,t,a){e.exports={search:"sn-pages-review-form-index-search",item:"sn-pages-review-form-index-item",hidden:"sn-pages-review-form-index-hidden"}},pTQ3:function(e,t,a){e.exports={container:"sn-pages-student-history-index-container",operations:"sn-pages-student-history-index-operations"}},qeWu:function(e,t,a){e.exports={actions:"sn-pages-review-form-detail-list-index-actions",delete:"sn-pages-review-form-detail-list-index-delete",update:"sn-pages-review-form-detail-list-index-update"}},tP2g:function(e,t,a){e.exports={tools:"sn-pages-review-print-index-tools",item:"sn-pages-review-print-index-item"}}}]);